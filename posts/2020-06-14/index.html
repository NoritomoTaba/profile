<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>vim-startify + figlet + boxes を利用して vim を起動時にロゴを表示する | cat2koban.dev</title><link rel=icon type=image/png href=/images/favicon.png><link rel=stylesheet href=/sass/main.min.d85b5bcbf9dc35a77a2339044932e9574cf986dbee3feb73f5c82f0d2f05e703.css><meta property="og:url" content="https://cat2koban.dev/posts/2020-06-14/"><meta property="og:type" content="article"><meta property="og:site_name" content="cat2koban.dev"><meta property="og:title" content="vim-startify + figlet + boxes を利用して vim を起動時にロゴを表示する"><meta property="og:description" content="経緯黒い画面と睨みっこをしていて、なんとなく遊び要素が欲しいなとふと思ったのでやってみました。
環境macOS Catalina 10.15.5fish v3.1.0Neovim v0.4.3vim-plug v0.10.0brew 2.4.0vim プラグインvim-startifyCLI ツールfigletboxesgithub.com
boxes.thomasjensen.com
www.figlet.org
インストールvim-startify＊vim-plug を使用している場合
1  Plug &amp;#39;vim-startify&amp;#39;"><meta property="og:image" content="https://cat2koban.dev/tcard/2020-06-14.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@cat2koban"></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>cat2koban.dev</a></div><button id=dark-mode-button></button></div></div><div class=container><div class=header-links><u><a class=header-link href=/about/>About</a></u>
<u><a class=header-link href=/index.xml>RSS</a></u>
<u><a class=header-link href=/tags/>Tags</a></u></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>vim-startify + figlet + boxes を利用して vim を起動時にロゴを表示する</h1><div class=post-meta><div>By cat2koban on <time>June 14, 2020</time></div><div class=tags><a href=/tags/vim/>vim</a></div></div></div></div></header></article><div class=article-post><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614230710.png alt=f:id:sorehaedamame:20200614230710p:plain title=f:id:sorehaedamame:20200614230710p:plain class=hatena-fotolife itemprop=image></span></p><h3>経緯</h3><p>黒い画面と睨みっこをしていて、なんとなく遊び要素が欲しいなとふと思ったのでやってみました。</p><h3>環境</h3><ul><li>macOS Catalina 10.15.5</li><li>fish v3.1.0</li><li>Neovim v0.4.3</li><li>vim-plug v0.10.0</li><li>brew 2.4.0</li><li>vim プラグイン<ul><li>vim-startify</li></ul></li><li>CLI ツール<ul><li>figlet</li><li>boxes</li></ul></li></ul><p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fmhinz%2Fvim-startify" title=mhinz/vim-startify class="embed-card embed-webcard" scrolling=no frameborder=0 style="display:block;width:100%;height:155px;max-width:500px;margin:10px 0"></iframe><cite class=hatena-citation><a href=https://github.com/mhinz/vim-startify>github.com</a></cite></p><p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fboxes.thomasjensen.com%2F" title="boxes - Command line ASCII boxes unlimited!" class="embed-card embed-webcard" scrolling=no frameborder=0 style="display:block;width:100%;height:155px;max-width:500px;margin:10px 0"></iframe><cite class=hatena-citation><a href=https://boxes.thomasjensen.com/>boxes.thomasjensen.com</a></cite></p><p><iframe src="https://hatenablog-parts.com/embed?url=http%3A%2F%2Fwww.figlet.org%2F" title="FIGlet - hosted by PLiG" class="embed-card embed-webcard" scrolling=no frameborder=0 style="display:block;width:100%;height:155px;max-width:500px;margin:10px 0"></iframe><cite class=hatena-citation><a href=http://www.figlet.org/>www.figlet.org</a></cite></p><h3>インストール</h3><h4>vim-startify</h4><p>＊vim-plug を使用している場合</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=nx>Plug</span> <span class=s1>&#39;vim-startify&#39;</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h4>figlet</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>$ brew install figlet
</span></span></code></pre></td></tr></table></div></div><h4>boxes</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>$ brew install boxes
</span></span></code></pre></td></tr></table></div></div><h3>vim-startify の設定</h3><p>自分は以下のように vim の設定ファイルに記入しています。
人によって異なると思いますが、プラグイ 別に設定ファイルを分けていないようであれば、
neovim だと、 <code>~/.config/nvim/init.vim</code> で、 vim だと <code>~/.vimrc</code> になるのかなと思ってます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=c>  &#34; vim 起動時に vim-startify も一緒に起動させる</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>  &#34; ref: https://github.com/mhinz/vim-startify/blob/master/doc/startify.txt#L309</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  <span class=k>let</span> <span class=nx>g</span>:<span class=nx>startify_session_autoload</span> <span class=p>=</span> <span class=m>0</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>  &#34; ref: https://vim.blue/startify/</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>  &#34; file 表示数</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  <span class=k>let</span> <span class=nx>g</span>:<span class=nx>startify_files_number</span> <span class=p>=</span> <span class=m>5</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>
</span></span></span><span class=line><span class=cl><span class=c>  &#34; ref: http://mewbies.com/acute_terminal_fun_01_get_ascii-fied_on_the_terminal.htm</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c>  &#34; ref: https://github.com/ascii-boxes/boxes/blob/master/boxes-config</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  <span class=k>let</span> <span class=nx>g</span>:<span class=nx>startify_custom_header</span> <span class=p>=</span> <span class=p>(</span>[<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                         \\\///                         &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                        / _  _ \                        &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                      (| (.)(.) |)                      &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; +------------------.OOOo--()--oOOO.------------------+ &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |               __ ___   __         __               | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |   _________ _/ /|__ \ / /______  / /_  ____ _____  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |  / ___/ __ `/ __/_/ // //_/ __ \/ __ \/ __ `/ __ \ | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; | / /__/ /_/ / /_/ __// ,&lt; / /_/ / /_/ / /_/ / / / / | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; | \___/\__,_/\__/____/_/|_|\____/_.___/\__,_/_/ /_/  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                   _   __                __         | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                  / | / /__  ____ _   __/_/___ ___  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                 /  |/ / _ \/ __ \ | / / / __ `__ \ | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                / /|  /  __/ /_/ / |/ / / / / / / / | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |               /_/ |_/\___/\____/|___/_/_/ /_/ /_/  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                                                    | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; +------------------.oooO-----------------------------+ &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                    (   )   Oooo.                       &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                     \ (    (   )                       &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                      \_)    ) /                        &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                            (_/                         &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;&#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \]<span class=p>)</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><p>ロゴは startify_custom_header と言う名前の変数の中に文字列として書いていきます。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl> <span class=k>let</span> <span class=nx>g</span>:<span class=nx>startify_custom_header</span> <span class=p>=</span> <span class=p>(</span>[<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \ ..<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \ ...<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  ]<span class=p>)</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h3>ロゴの作り方</h3><p>今回僕は、<code>figlet</code> と呼ばれるアスキーアートを生成してくれる CLIツールと、<code>boxes</code> と呼ばれる文字をいろんなデザインの箱で囲ってくれる CLI ツールを用いてロゴを作りました。
ちょっと手間なんですが、僕の場合 <code>cat2koban</code> と <code>neovim</code> の2行構成にしたかったので、わざわざ2個目の <code>neovim</code> の方をコピペしてはキリ貼りしながら、なんとか2行にしました。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>$ figlet -f slant cat2koban <span class=p>|</span> boxes -d ian_jones
</span></span></code></pre></td></tr></table></div></div><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614234331.png alt=f:id:sorehaedamame:20200614234331p:plain title=f:id:sorehaedamame:20200614234331p:plain class=hatena-fotolife itemprop=image></span></p><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614234648.png alt=f:id:sorehaedamame:20200614234648p:plain title=f:id:sorehaedamame:20200614234648p:plain class=hatena-fotolife itemprop=image></span></p><p>ちなみに、 <code>figlet</code> 単体だとこういう感じで表示されて、この出力結果が <code>パイプ ( | )</code> で <code>boxes</code> というコマンドに渡されているのがわかるかと思います。<p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614234550.png alt=f:id:sorehaedamame:20200614234550p:plain title=f:id:sorehaedamame:20200614234550p:plain class=hatena-fotolife itemprop=image></span></p></p><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614235455.png alt=f:id:sorehaedamame:20200614235455p:plain title=f:id:sorehaedamame:20200614235455p:plain class=hatena-fotolife itemprop=image></span></p><p>あとは結果を <code>| pbcopy</code> するなり コピーするなりして、vim</a> の設定ファイルに貼りつけます。ここで注意なんですが、文字列としてこのロゴを扱っているので、<code>\" ... ",</code> というようにして、ロゴを一行一行囲む必要があります。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl> <span class=k>let</span> <span class=nx>g</span>:<span class=nx>startify_custom_header</span> <span class=p>=</span> <span class=p>(</span>[<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                         \\\///                         &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                        / _  _ \                        &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                      (| (.)(.) |)                      &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; +------------------.OOOo--()--oOOO.------------------+ &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |               __ ___   __         __               | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |   _________ _/ /|__ \ / /______  / /_  ____ _____  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |  / ___/ __ `/ __/_/ // //_/ __ \/ __ \/ __ `/ __ \ | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; | / /__/ /_/ / /_/ __// ,&lt; / /_/ / /_/ / /_/ / / / / | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; | \___/\__,_/\__/____/_/|_|\____/_.___/\__,_/_/ /_/  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                   _   __                __         | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                  / | / /__  ____ _   __/_/___ ___  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                 /  |/ / _ \/ __ \ | / / / __ `__ \ | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                / /|  /  __/ /_/ / |/ / / / / / / / | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |               /_/ |_/\___/\____/|___/_/_/ /_/ /_/  | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; |                                                    | &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39; +------------------.oooO-----------------------------+ &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                    (   )   Oooo.                       &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                     \ (    (   )                       &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                      \_)    ) /                        &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;                            (_/                         &#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \<span class=s1>&#39;&#39;</span><span class=p>,</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>  \]<span class=p>)</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div><p>そしてターミナルで引数なしで vim を起動させてみると、こうなります。</p><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200614/20200614230710.png alt=f:id:sorehaedamame:20200614230710p:plain title=f:id:sorehaedamame:20200614230710p:plain class=hatena-fotolife itemprop=image></span></p><p>皆さんも自分のロゴを作ったりして、vim に少しの遊び要素を追加してみてはいかがでしょうか？</p></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/posts/2020-06-07/ title="Previous post (older)"><span>Previous</span>
Macbook で動かしている Rails アプリを IE11 で確認する</a>
<a rel=next href=/posts/2020-06-14-2/ title="Next post (newer)"><span>Next</span>
iTerm でタブを Ctrl+W で消す前に警告を出すようにする</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links></nav></section><script async src=/js/features.min.998e7aa76795e443649151776dfe12dc53c3a3dfff300ce31b7e1d0e5b12894d.js></script></footer></body></html>