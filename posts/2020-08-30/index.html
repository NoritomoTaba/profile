<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>vim-startify に indent line をつけないようにする | cat2koban.dev</title><link rel=icon type=image/png href=/images/favicon.png><link rel=stylesheet href=/sass/main.min.d85b5bcbf9dc35a77a2339044932e9574cf986dbee3feb73f5c82f0d2f05e703.css><meta property="og:url" content="https://cat2koban.dev/posts/2020-08-30/"><meta property="og:type" content="article"><meta property="og:site_name" content="cat2koban.dev"><meta property="og:title" content="vim-startify に indent line をつけないようにする"><meta property="og:description" content="Tl;dr1 let g:indentLine_fileTypeExclude = [&amp;#39;startify&amp;#39;] 経緯nvim でコードを書く際に、ネストが深くなってしまってどうしても読み辛い箇所がでてきたりしたので、以下のプラグインを導入してみた。 するとインデントが簡単に可視化され、コードが読みやすくなったのは良いが、 vim-startify の出力でもインデントが生成されていて、非常に気持ち悪い見た目になってしまった。
github.com解決方法fileType が startify の時はインデントをつけないようにする。
1 let g:indentLine_f"><meta property="og:image" content="https://cat2koban.dev/tcard/2020-08-30.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@cat2koban"></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>cat2koban.dev</a></div><button id=dark-mode-button></button></div></div><div class=container><div class=header-links><u><a class=header-link href=/about/>About</a></u>
<u><a class=header-link href=/index.xml>RSS</a></u>
<u><a class=header-link href=/tags/>Tags</a></u></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>vim-startify に indent line をつけないようにする</h1><div class=post-meta><div>By cat2koban on <time>August 30, 2020</time></div><div class=tags><a href=/tags/vim/>vim</a></div></div></div></div></header></article><div class=article-post><h3>Tl;dr</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=k>let</span> <span class=nx>g</span>:<span class=nx>indentLine_fileTypeExclude</span> <span class=p>=</span> [<span class=s1>&#39;startify&#39;</span>]<span class=err>
</span></span></span></code></pre></td></tr></table></div></div><h3>経緯</h3><p>nvim でコードを書く際に、ネストが深くなってしまってどうしても読み辛い箇所がでてきたりしたので、以下のプラグインを導入してみた。 するとインデントが簡単に可視化され、コードが読みやすくなったのは良いが、 <a href=https://github.com/mhinzvim-startify>vim-startify</a> の出力でもインデントが生成されていて、非常に気持ち悪い見た目になってしまった。</p><p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2FYggdroot%2FindentLine" title=Yggdroot/indentLine class="embed-card embed-webcard" scrolling=no frameborder=0 style="display:block;width:100%;height:155px;max-width:500px;margin:10px 0"></iframe><cite class=hatena-citation><a href=https://github.com/Yggdroot/indentLine>github.com</a></cite><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200830/20200830100543.png alt=f:id:sorehaedamame:20200830100543p:plain title=f:id:sorehaedamame:20200830100543p:plain class=hatena-fotolife itemprop=image></span></p></p><h3>解決方法</h3><p><code>fileType</code> が <code>startify</code> の時はインデントをつけないようにする。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=k>let</span> <span class=nx>g</span>:<span class=nx>indentLine_fileTypeExclude</span> <span class=p>=</span> [<span class=s1>&#39;startify&#39;</span>]<span class=err>
</span></span></span></code></pre></td></tr></table></div></div><p>すると起動後の画面はこんな感じに（カラースキーマの設定のせいで微妙過ぎて見えない&mldr;）</p><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200830/20200830102453.png alt=f:id:sorehaedamame:20200830102453p:plain title=f:id:sorehaedamame:20200830102453p:plain class=hatena-fotolife itemprop=image></span></p></p><p>初めは以下のリンクを参考にしました。この Issue では、<code>vim-indent-guides</code> という似たようなインデント可視化用のプラグインにおいて、 <code>startify</code> という fileType の場合は可視化させない方法が記載されています。</p><p><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2Fnathanaelkane%2Fvim-indent-guides%2Fissues%2F129" title="Bad rendering on startify · Issue #129 · nathanaelkane/vim-indent-guides" class="embed-card embed-webcard" scrolling=no frameborder=0 style="display:block;width:100%;height:155px;max-width:500px;margin:10px 0"></iframe><cite class=hatena-citation><a href=https://github.com/nathanaelkane/vim-indent-guides/issues/129>github.com</a></cite></p><p>次に、似たような設定用の変数がないかどうか、自分が導入した <a href=https://github.com/Yggdroot/indentLine>indentLine</a> で help を確認し、それを参考に設定を記述しました。</p><p><span itemscope itemtype=http://schema.org/Photograph><img src=https://cdn-ak.f.st-hatena.com/images/fotolife/s/sorehaedamame/20200830/20200830102010.png alt=f:id:sorehaedamame:20200830102010p:plain title=f:id:sorehaedamame:20200830102010p:plain class=hatena-fotolife itemprop=image></span></p><figcaption>(上部 :help indentLine) (下部 ~/.config/nvim/init.vim)</figcaption></figure></p></p><h3>最後に</h3><p>最初から <code>:help</code> で探していれば、ブラウザを開くこともなかったですね・・・。もしプラグインを使っていてプラグインの機能を修正したい場合、以下のようにしてまずはドキュメントから調べる。という癖をつけるようにしたいなと思いました。<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-vim data-lang=vim><span class=line><span class=cl><span class=p>:</span><span class=nx>help</span> <span class=p>&lt;</span><span class=nx>plugin</span><span class=p>&gt;</span><span class=err>
</span></span></span></code></pre></td></tr></table></div></div></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/posts/2020-06-14-2/ title="Previous post (older)"><span>Previous</span>
iTerm でタブを Ctrl+W で消す前に警告を出すようにする</a>
<a rel=next href=/posts/2020-12-08/ title="Next post (newer)"><span>Next</span>
初めての vim プラグイン作成</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links></nav></section><script async src=/js/features.min.82dcb2ce69cb265c1adc3484b35aad4e8d1ba270ef6dbf2073e6c9f27ee6d22b.js></script></footer></body></html>